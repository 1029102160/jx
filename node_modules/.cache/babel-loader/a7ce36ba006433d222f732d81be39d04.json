{"remainingRequest":"C:\\Users\\金龙\\WebstormProjects\\jx\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\金龙\\WebstormProjects\\jx\\node_modules\\babel-loader\\lib\\index.js??ref--16-2!C:\\Users\\金龙\\WebstormProjects\\jx\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\金龙\\WebstormProjects\\jx\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\金龙\\WebstormProjects\\jx\\src\\components\\Navbar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\金龙\\WebstormProjects\\jx\\src\\components\\Navbar.vue","mtime":1562003512422},{"path":"C:\\Users\\金龙\\WebstormProjects\\jx\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1557153102075},{"path":"C:\\Users\\金龙\\WebstormProjects\\jx\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1557153102750},{"path":"C:\\Users\\金龙\\WebstormProjects\\jx\\node_modules\\babel-loader\\lib\\index.js","mtime":1557153093181},{"path":"C:\\Users\\金龙\\WebstormProjects\\jx\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1557153102075},{"path":"C:\\Users\\金龙\\WebstormProjects\\jx\\node_modules\\vue-loader\\lib\\index.js","mtime":1557153103023}],"contextDependencies":[],"result":["import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _objectSpread from \"C:\\\\Users\\\\\\u91D1\\u9F99\\\\WebstormProjects\\\\jx\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapActions, mapGetters } from \"vuex\";\nexport default {\n  name: \"Navbar\",\n  data: function data() {\n    return {\n      curPage: \"\",\n      tabs: [{\n        label: \"首页\",\n        icon: \"cubeic-home\"\n      }, {\n        label: \"分类\",\n        icon: \"cubeic-tag\"\n      }, {\n        label: \"购物车\",\n        icon: \"cubeic-mall\"\n      }, {\n        label: \"我的\",\n        icon: \"cubeic-person\"\n      }]\n    };\n  },\n  computed: _objectSpread({}, mapGetters([\"curCartData\"]), {\n    total: function total() {\n      var sum = 0;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.curCartData[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var item = _step.value;\n          sum += item.count;\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      if (sum > 999) {\n        sum = 999;\n      }\n\n      return sum;\n    }\n  }),\n  methods: _objectSpread({}, mapActions([\"setShopCartPosition\"]), {\n    changeHandler: function changeHandler(label) {\n      switch (label) {\n        case \"首页\":\n          this.$router.push(\"/\");\n          break;\n\n        case \"分类\":\n          this.$router.push(\"/categories\");\n          break;\n\n        case \"购物车\":\n          this.$router.push(\"/shoppingcart\");\n          break;\n\n        case \"我的\":\n          this.$router.push(\"/my\");\n          break;\n      }\n    }\n  }),\n  created: function created() {},\n  activated: function activated() {\n    switch (this.$route.path) {\n      case \"/\":\n        this.curPage = \"首页\";\n        break;\n\n      case \"/categories\":\n        this.curPage = \"分类\";\n        break;\n\n      case \"/shoppingcart\":\n        this.curPage = \"购物车\";\n        break;\n\n      case \"/my\":\n        this.curPage = \"我的\";\n        break;\n    }\n  },\n  deactivated: function deactivated() {\n    //获取购物车的位置\n    this.$nextTick(function () {\n      var shopCartPosition = document.getElementsByClassName(\"cubeic-mall\")[0].getBoundingClientRect(); //购物车位置存入vuex\n\n      this.setShopCartPosition(shopCartPosition);\n    });\n  }\n};",{"version":3,"sources":["Navbar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAkBA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,CACA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,IAAA,EAAA;AAFA,OADA,EAKA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,IAAA,EAAA;AAFA,OALA,EASA;AACA,QAAA,KAAA,EAAA,KADA;AAEA,QAAA,IAAA,EAAA;AAFA,OATA,EAaA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAbA;AAFA,KAAA;AAqBA,GAxBA;AAyBA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,aAAA,CAAA,CADA;AAEA,IAAA,KAAA,EAAA,iBAAA;AACA,UAAA,GAAA,GAAA,CAAA;AADA;AAAA;AAAA;;AAAA;AAEA,6BAAA,KAAA,WAAA,8HAAA;AAAA,cAAA,IAAA;AACA,UAAA,GAAA,IAAA,IAAA,CAAA,KAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKA,UAAA,GAAA,GAAA,GAAA,EAAA;AACA,QAAA,GAAA,GAAA,GAAA;AACA;;AACA,aAAA,GAAA;AACA;AAXA,IAzBA;AAsCA,EAAA,OAAA,oBACA,UAAA,CAAA,CAAA,qBAAA,CAAA,CADA;AAEA,IAAA,aAFA,yBAEA,KAFA,EAEA;AACA,cAAA,KAAA;AACA,aAAA,IAAA;AACA,eAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;;AACA,aAAA,IAAA;AACA,eAAA,OAAA,CAAA,IAAA,CAAA,aAAA;AACA;;AACA,aAAA,KAAA;AACA,eAAA,OAAA,CAAA,IAAA,CAAA,eAAA;AACA;;AACA,aAAA,IAAA;AACA,eAAA,OAAA,CAAA,IAAA,CAAA,KAAA;AACA;AAZA;AAcA;AAjBA,IAtCA;AAyDA,EAAA,OAzDA,qBAyDA,CAAA,CAzDA;AA0DA,EAAA,SA1DA,uBA0DA;AACA,YAAA,KAAA,MAAA,CAAA,IAAA;AACA,WAAA,GAAA;AACA,aAAA,OAAA,GAAA,IAAA;AACA;;AACA,WAAA,aAAA;AACA,aAAA,OAAA,GAAA,IAAA;AACA;;AACA,WAAA,eAAA;AACA,aAAA,OAAA,GAAA,KAAA;AACA;;AACA,WAAA,KAAA;AACA,aAAA,OAAA,GAAA,IAAA;AACA;AAZA;AAcA,GAzEA;AA0EA,EAAA,WA1EA,yBA0EA;AACA;AACA,SAAA,SAAA,CAAA,YAAA;AACA,UAAA,gBAAA,GAAA,QAAA,CACA,sBADA,CACA,aADA,EACA,CADA,EAEA,qBAFA,EAAA,CADA,CAKA;;AACA,WAAA,mBAAA,CAAA,gBAAA;AACA,KAPA;AAQA;AApFA,CAAA","sourcesContent":["<template>\r\n  <div class=\"navbar-container\" ref=\"navbarContainer\">\r\n    <cube-tab-bar v-model=\"curPage\" @change=\"changeHandler\">\r\n      <cube-tab v-for=\"(item, index) in tabs\" :label=\"item.label\" :key=\"index\">\r\n        <!-- name为icon的插槽 -->\r\n        <div slot=\"icon\" :class=\"item.icon\"></div>\r\n        <!-- 默认插槽 -->\r\n        {{ item.label }}\r\n        <div class=\"shoppingCartNum\" v-show=\"item.label === '购物车'\">\r\n          {{ total }}\r\n          <span v-show=\"total >= 999\">+</span>\r\n        </div>\r\n      </cube-tab>\r\n    </cube-tab-bar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nexport default {\r\n  name: \"Navbar\",\r\n  data() {\r\n    return {\r\n      curPage: \"\",\r\n      tabs: [\r\n        {\r\n          label: \"首页\",\r\n          icon: \"cubeic-home\"\r\n        },\r\n        {\r\n          label: \"分类\",\r\n          icon: \"cubeic-tag\"\r\n        },\r\n        {\r\n          label: \"购物车\",\r\n          icon: \"cubeic-mall\"\r\n        },\r\n        {\r\n          label: \"我的\",\r\n          icon: \"cubeic-person\"\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"curCartData\"]),\r\n    total: function() {\r\n      let sum = 0;\r\n      for (let item of this.curCartData) {\r\n        sum += item.count;\r\n      }\r\n      if (sum > 999) {\r\n        sum = 999;\r\n      }\r\n      return sum;\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions([\"setShopCartPosition\"]),\r\n    changeHandler(label) {\r\n      switch (label) {\r\n        case \"首页\":\r\n          this.$router.push(\"/\");\r\n          break;\r\n        case \"分类\":\r\n          this.$router.push(\"/categories\");\r\n          break;\r\n        case \"购物车\":\r\n          this.$router.push(\"/shoppingcart\");\r\n          break;\r\n        case \"我的\":\r\n          this.$router.push(\"/my\");\r\n          break;\r\n      }\r\n    }\r\n  },\r\n  created() {},\r\n  activated() {\r\n    switch (this.$route.path) {\r\n      case \"/\":\r\n        this.curPage = \"首页\";\r\n        break;\r\n      case \"/categories\":\r\n        this.curPage = \"分类\";\r\n        break;\r\n      case \"/shoppingcart\":\r\n        this.curPage = \"购物车\";\r\n        break;\r\n      case \"/my\":\r\n        this.curPage = \"我的\";\r\n        break;\r\n    }\r\n  },\r\n  deactivated() {\r\n    //获取购物车的位置\r\n    this.$nextTick(function() {\r\n      let shopCartPosition = document\r\n        .getElementsByClassName(\"cubeic-mall\")[0]\r\n        .getBoundingClientRect();\r\n\r\n      //购物车位置存入vuex\r\n      this.setShopCartPosition(shopCartPosition);\r\n    });\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.navbar-container\r\n  position fixed\r\n  bottom 0\r\n  left 0\r\n  width 100%\r\n  z-index 1000\r\n  background-color white\r\n  box-shadow: 0 0 10px 0 hsla(0,6%,58%,.6);\r\n  font-size 18px\r\n  .cube-tab-bar\r\n    .cube-tab_active\r\n      color orange\r\n    .cube-tab\r\n      position relative\r\n      .shoppingCartNum\r\n        position absolute\r\n        top 0\r\n        right 10px\r\n        background-color orange\r\n        width 25px\r\n        height 25px\r\n        font-size 12px\r\n        border-radius 50%\r\n        color white\r\n        display flex\r\n        justify-content center\r\n        align-items center\r\n</style>\r\n"],"sourceRoot":"src/components"}]}